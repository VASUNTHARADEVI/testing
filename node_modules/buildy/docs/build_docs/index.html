<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>buildy</title>
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Maven+Pro:400,700">
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.4.1/build/cssgrids/grids-min.css">
    <link rel="stylesheet" href="assets/css/main.css">
    <link rel="stylesheet" href="assets/vendor/prettify/prettify-min.css">
    <script src="http://yui.yahooapis.com/3.4.1/build/yui/yui-min.js"></script>
</head>
<body>

<div id="doc">
    <h1>buildy</h1>

    
        <a href="#toc" class="jump">Jump to Table of Contents</a>
    

    <div class="yui3-g">
        <div class="yui3-u-3-4">
            <div id="main">
                <div class="content"><div class="intro">
<p>
Buildy is a build system for web/javascript/node.js projects.
It acts like a sequence of 'piped' commands.
</p>
</div>


<h2 id="installation">Installation</h2>

<p>
Install Buildy using npm:
</p>

<pre class="code terminal"><span class="noselect">$ </span>npm install buildy -g</pre>


<p>
Or clone the <a href="https://github.com/mosen/buildy/">GitHub repo</a> to install the latest development version:
</p>

<pre class="code terminal"><span class="noselect">$ </span>git clone git:&#x2F;&#x2F;github.com&#x2F;mosen&#x2F;buildy.git
<span class="noselect">$ </span>cd buildy &amp;&amp; npm install -g</pre>


<h2 id="overview">Overview</h2>

<p>
Buildy exports several different objects which you can use with nodejs to create your own build script.
</p>

<p>
The main object you will be working with is the Queue object.
</p>

<h3 id="queue">Queue</h3>

<p>
Each queue object is a description of a set of tasks that you want to perform as a part of your build process. Most of
the time these tasks are executed one after another and they depend on the previous task.
</p>

<h4 id="sample-of-constructing-a-queue-of-tasks-sequentially">Sample of constructing a queue of tasks sequentially</h4>

<pre class="code prettyprint">var Queue = require(&#x27;buildy&#x27;).Queue;

new Queue(&#x27;release version&#x27;)
    .task(&#x27;files&#x27;, [&#x27;.&#x2F;js&#x2F;test1.js&#x27;, &#x27;.&#x2F;js&#x2F;test2.js&#x27;])
    .task(&#x27;concat&#x27;)
    .task(&#x27;jsminify&#x27;)
    .task(&#x27;write&#x27;, { name: &#x27;.&#x2F;build&#x2F;test-min.js&#x27; })
    .run();</pre>


<p>
In this example, the Queue is constructed with the name 'release version'. The name of the queue is printed in any logs
to give an indication of which queue is executing a task, and what the task result is.
</p>

<p>
Tasks are added to the queue using the <code>task</code> method. The first parameter is the name of a valid task (either one that
ships with buildy, or a custom task that you added). The second parameter will be the task options, which varies
depending on what kind of task you are adding to the Queue.
</p>

<h3 id="queue-in-parallel">Queue in parallel</h3>

<p>
There may be tasks in your build process that can happen independently of other tasks, for example:
you might be able to do a final run of your test suites, or produce documentation as a part of the script. You might
just have several individual components that should be built at the same time.
</p>

<p>There are two different ways to deal with this: forks and multiple queues</p>

<h4 id="forks">forks</h4>

<p>When you specify a fork task in a queue, you are actually creating a set of new queue objects that inherit their
state and configuration from the current Queue object. This allows you to diverge when you want to run several different
build tasks acting on the same output.</p>

<h5 id="sample-of-the-fork-task">Sample of the fork task</h5>

<pre class="code prettyprint">var Queue = require(&#x27;buildy&#x27;).Queue;

new Queue(&#x27;fork example&#x27;)
    .task(&#x27;files&#x27;, [&#x27;.&#x2F;js&#x2F;test1.js&#x27;, &#x27;.&#x2F;js&#x2F;test2.js&#x27;])
    .task(&#x27;concat&#x27;)
    .task(&#x27;fork&#x27;, {
        &#x27;first child queue&#x27; : function() {
            this.task(&#x27;write&#x27;, { name: &#x27;.&#x2F;build&#x2F;queue-a.js&#x27; }).run();
        },
        &#x27;second child queue&#x27; : function() {
            this.task(&#x27;write&#x27;, { name: &#x27;.&#x2F;build&#x2F;queue-b.js&#x27; }).run();
        }
    }).run();</pre>


<p>In this example we take the concatenated contents of test1.js and test2.js, and write it to two different files
(not very useful, i know). The point is that in the example, the writing of each file happens completely independently
</p>

<h4 id="creating-multiple-queues">creating multiple queues</h4>

<p>If your build process has multiple different types of tasks to perform which are not in any way related, consider
making multiple Queue's for this purpose</p>

<h5 id="sample-of-multiple-queues">Sample of multiple queues</h5>

<pre class="code prettyprint">var Queue = require(&#x27;buildy&#x27;).Queue;

new Queue(&#x27;scripts&#x27;)
    .task(&#x27;files&#x27;, [&#x27;.&#x2F;js&#x2F;test1.js&#x27;, &#x27;.&#x2F;js&#x2F;test2.js&#x27;])
    .task(&#x27;concat&#x27;)
    .task(&#x27;write&#x27;, { name: &#x27;.&#x2F;build&#x2F;output.js&#x27; })
    .run();

new Queue(&#x27;lint&#x27;)
    .task(&#x27;files&#x27;, [&#x27;.&#x2F;js&#x2F;test1.js&#x27;])
    .task(&#x27;jslint&#x27;)
    .run();</pre>


<p>Here, each Queue is executed at the same time and doesn't rely on the output from any other task to complete</p>


</div>
            </div>
        </div>

        <div class="yui3-u-1-4">
            <div class="sidebar">
                
                    <div id="toc" class="sidebox">
                        <div class="hd">
                            <h2 class="no-toc">Table of Contents</h2>
                        </div>

                        <div class="bd">
                            <ul class="toc">
<li>
<a href="#installation">Installation</a>
</li>
<li>
<a href="#overview">Overview</a>
<ul class="toc">
<li>
<a href="#queue">Queue</a>
<ul class="toc">
<li>
<a href="#sample-of-constructing-a-queue-of-tasks-sequentially">Sample of constructing a queue of tasks sequentially</a>
</li>
</ul>
</li>
<li>
<a href="#queue-in-parallel">Queue in parallel</a>
<ul class="toc">
<li>
<a href="#forks">forks</a>
<ul class="toc">
<li>
<a href="#sample-of-the-fork-task">Sample of the fork task</a>
</li>
</ul>
</li>
<li>
<a href="#creating-multiple-queues">creating multiple queues</a>
<ul class="toc">
<li>
<a href="#sample-of-multiple-queues">Sample of multiple queues</a>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
                        </div>
                    </div>
                

                

                
            </div>
        </div>
    </div>
</div>

<script src="assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>

</body>
</html>
